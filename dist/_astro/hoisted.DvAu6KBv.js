function Zt(t,e){t.indexOf(e)===-1&&t.push(e)}const Lt=(t,e,n)=>Math.min(Math.max(n,t),e),v={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},H=t=>typeof t=="number",R=t=>Array.isArray(t)&&!H(t[0]),Jt=(t,e,n)=>{const s=e-t;return((n-t)%s+s)%s+t};function Qt(t,e){return R(t)?t[Jt(0,t.length,e)]:t}const xt=(t,e,n)=>-n*t+n*e+t,Dt=()=>{},S=t=>t,st=(t,e,n)=>e-t===0?1:(n-t)/(e-t);function Pt(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=st(0,e,s);t.push(xt(n,1,r))}}function te(t){const e=[0];return Pt(e,t-1),e}function ee(t,e=te(t.length),n=S){const s=t.length,r=s-e.length;return r>0&&Pt(e,r),i=>{let a=0;for(;a<s-2&&!(i<e[a+1]);a++);let c=Lt(0,1,st(e[a],e[a+1],i));return c=Qt(n,a)(c),xt(t[a],t[a+1],c)}}const Rt=t=>Array.isArray(t)&&H(t[0]),Q=t=>typeof t=="object"&&!!t.createAnimation,k=t=>typeof t=="function",ne=t=>typeof t=="string",_={ms:t=>t*1e3,s:t=>t/1e3},kt=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,se=1e-7,re=12;function oe(t,e,n,s,r){let i,a,c=0;do a=e+(n-e)/2,i=kt(a,s,r)-t,i>0?n=a:e=a;while(Math.abs(i)>se&&++c<re);return a}function M(t,e,n,s){if(t===e&&n===s)return S;const r=i=>oe(i,0,1,t,n);return i=>i===0||i===1?i:kt(r(i),e,s)}const ie=(t,e="end")=>n=>{n=e==="end"?Math.min(n,.999):Math.max(n,.001);const s=n*t,r=e==="end"?Math.floor(s):Math.ceil(s);return Lt(0,1,r/t)},ae={ease:M(.25,.1,.25,1),"ease-in":M(.42,0,1,1),"ease-in-out":M(.42,0,.58,1),"ease-out":M(0,0,.58,1)},ce=/\((.*?)\)/;function ft(t){if(k(t))return t;if(Rt(t))return M(...t);const e=ae[t];if(e)return e;if(t.startsWith("steps")){const n=ce.exec(t);if(n){const s=n[1].split(",");return ie(parseFloat(s[0]),s[1].trim())}}return S}class Ot{constructor(e,n=[0,1],{easing:s,duration:r=v.duration,delay:i=v.delay,endDelay:a=v.endDelay,repeat:c=v.repeat,offset:o,direction:u="normal",autoplay:l=!0}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=S,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((d,g)=>{this.resolve=d,this.reject=g}),s=s||v.easing,Q(s)){const d=s.createAnimation(n);s=d.easing,n=d.keyframes||n,r=d.duration||r}this.repeat=c,this.easing=R(s)?S:ft(s),this.updateDuration(r);const f=ee(n,o,R(s)?s.map(ft):S);this.tick=d=>{var g;i=i;let w=0;this.pauseTime!==void 0?w=this.pauseTime:w=(d-this.startTime)*this.rate,this.t=w,w/=1e3,w=Math.max(w-i,0),this.playState==="finished"&&this.pauseTime===void 0&&(w=this.totalDuration);const m=w/this.duration;let h=Math.floor(m),b=m%1;!b&&m>=1&&(b=1),b===1&&h--;const $=h%2;(u==="reverse"||u==="alternate"&&$||u==="alternate-reverse"&&!$)&&(b=1-b);const O=w>=this.totalDuration?1:Math.min(b,1),x=f(this.easing(O));e(x),this.pauseTime===void 0&&(this.playState==="finished"||w>=this.totalDuration+a)?(this.playState="finished",(g=this.resolve)===null||g===void 0||g.call(this,x)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},l&&this.play()}play(){const e=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var e;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(e=this.reject)===null||e===void 0||e.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}get currentTime(){return this.t}set currentTime(e){this.pauseTime!==void 0||this.rate===0?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}get playbackRate(){return this.rate}set playbackRate(e){this.rate=e}}class le{setAnimation(e){this.animation=e,e?.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const G=new WeakMap;function It(t){return G.has(t)||G.set(t,{transforms:[],values:new Map}),G.get(t)}function ue(t,e){return t.has(e)||t.set(e,new le),t.get(e)}const de=["","X","Y","Z"],fe=["translate","scale","rotate","skew"],V={x:"translateX",y:"translateY",z:"translateZ"},mt={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:t=>t+"deg"},me={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:t=>t+"px"},rotate:mt,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:S},skew:mt},C=new Map,rt=t=>`--motion-${t}`,W=["x","y","z"];fe.forEach(t=>{de.forEach(e=>{W.push(t+e),C.set(rt(t+e),me[t])})});const he=(t,e)=>W.indexOf(t)-W.indexOf(e),pe=new Set(W),Mt=t=>pe.has(t),ge=(t,e)=>{V[e]&&(e=V[e]);const{transforms:n}=It(t);Zt(n,e),t.style.transform=ye(n)},ye=t=>t.sort(he).reduce(we,"").trim(),we=(t,e)=>`${t} ${e}(var(${rt(e)}))`,tt=t=>t.startsWith("--"),ht=new Set;function be(t){if(!ht.has(t)){ht.add(t);try{const{syntax:e,initialValue:n}=C.has(t)?C.get(t):{};CSS.registerProperty({name:t,inherits:!1,syntax:e,initialValue:n})}catch{}}}const Z=(t,e)=>document.createElement("div").animate(t,e),pt={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{Z({opacity:[1]})}catch{return!1}return!0},finished:()=>!!Z({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{Z({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},J={},P={};for(const t in pt)P[t]=()=>(J[t]===void 0&&(J[t]=pt[t]()),J[t]);const ve=.015,Ee=(t,e)=>{let n="";const s=Math.round(e/ve);for(let r=0;r<s;r++)n+=t(st(0,s-1,r))+", ";return n.substring(0,n.length-2)},gt=(t,e)=>k(t)?P.linearEasing()?`linear(${Ee(t,e)})`:v.easing:Rt(t)?Te(t):t,Te=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`;function Ae(t,e){for(let n=0;n<t.length;n++)t[n]===null&&(t[n]=n?t[n-1]:e());return t}const Se=t=>Array.isArray(t)?t:[t];function et(t){return V[t]&&(t=V[t]),Mt(t)?rt(t):t}const B={get:(t,e)=>{e=et(e);let n=tt(e)?t.style.getPropertyValue(e):getComputedStyle(t)[e];if(!n&&n!==0){const s=C.get(e);s&&(n=s.initialValue)}return n},set:(t,e,n)=>{e=et(e),tt(e)?t.style.setProperty(e,n):t.style[e]=n}};function _t(t,e=!0){if(!(!t||t.playState==="finished"))try{t.stop?t.stop():(e&&t.commitStyles(),t.cancel())}catch{}}function Le(t,e){var n;let s=e?.toDefaultUnit||S;const r=t[t.length-1];if(ne(r)){const i=((n=r.match(/(-?[\d.]+)([a-z%]*)/))===null||n===void 0?void 0:n[2])||"";i&&(s=a=>a+i)}return s}function xe(){return window.__MOTION_DEV_TOOLS_RECORD}function De(t,e,n,s={},r){const i=xe(),a=s.record!==!1&&i;let c,{duration:o=v.duration,delay:u=v.delay,endDelay:l=v.endDelay,repeat:f=v.repeat,easing:d=v.easing,persist:g=!1,direction:w,offset:m,allowWebkitAcceleration:h=!1,autoplay:b=!0}=s;const $=It(t),O=Mt(e);let x=P.waapi();O&&ge(t,e);const E=et(e),F=ue($.values,E),T=C.get(E);return _t(F.animation,!(Q(d)&&F.generator)&&s.record!==!1),()=>{const N=()=>{var p,I;return(I=(p=B.get(t,E))!==null&&p!==void 0?p:T?.initialValue)!==null&&I!==void 0?I:0};let y=Ae(Se(n),N);const dt=Le(y,T);if(Q(d)){const p=d.createAnimation(y,e!=="opacity",N,E,F);d=p.easing,y=p.keyframes||y,o=p.duration||o}if(tt(E)&&(P.cssRegisterProperty()?be(E):x=!1),O&&!P.linearEasing()&&(k(d)||R(d)&&d.some(k))&&(x=!1),x){T&&(y=y.map(L=>H(L)?T.toDefaultUnit(L):L)),y.length===1&&(!P.partialKeyframes()||a)&&y.unshift(N());const p={delay:_.ms(u),duration:_.ms(o),endDelay:_.ms(l),easing:R(d)?void 0:gt(d,o),direction:w,iterations:f+1,fill:"both"};c=t.animate({[E]:y,offset:m,easing:R(d)?d.map(L=>gt(L,o)):void 0},p),c.finished||(c.finished=new Promise((L,Gt)=>{c.onfinish=L,c.oncancel=Gt}));const I=y[y.length-1];c.finished.then(()=>{g||(B.set(t,E,I),c.cancel())}).catch(Dt),h||(c.playbackRate=1.000001)}else if(r&&O)y=y.map(p=>typeof p=="string"?parseFloat(p):p),y.length===1&&y.unshift(parseFloat(N())),c=new r(p=>{B.set(t,E,dt?dt(p):p)},y,Object.assign(Object.assign({},s),{duration:o,easing:d}));else{const p=y[y.length-1];B.set(t,E,T&&H(p)?T.toDefaultUnit(p):p)}return a&&i(t,e,y,{duration:o,delay:u,easing:d,repeat:f,offset:m},"motion-one"),F.setAnimation(c),c&&!b&&c.pause(),c}}const Pe=(t,e)=>t[e]?Object.assign(Object.assign({},t),t[e]):Object.assign({},t);function Re(t,e){return typeof t=="string"?t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}const ke=t=>t(),Ct=(t,e,n=v.duration)=>new Proxy({animations:t.map(ke).filter(Boolean),duration:n,options:e},Ie),Oe=t=>t.animations[0],Ie={get:(t,e)=>{const n=Oe(t);switch(e){case"duration":return t.duration;case"currentTime":return _.s(n?.[e]||0);case"playbackRate":case"playState":return n?.[e];case"finished":return t.finished||(t.finished=Promise.all(t.animations.map(Me)).catch(Dt)),t.finished;case"stop":return()=>{t.animations.forEach(s=>_t(s))};case"forEachNative":return s=>{t.animations.forEach(r=>s(r,t))};default:return typeof n?.[e]>"u"?void 0:()=>t.animations.forEach(s=>s[e]())}},set:(t,e,n)=>{switch(e){case"currentTime":n=_.ms(n);case"playbackRate":for(let s=0;s<t.animations.length;s++)t.animations[s][e]=n;return!0}return!1}},Me=t=>t.finished;function _e(t,e,n){return k(t)?t(e,n):t}function Ce(t){return function(n,s,r={}){n=Re(n);const i=n.length,a=[];for(let c=0;c<i;c++){const o=n[c];for(const u in s){const l=Pe(r,u);l.delay=_e(l.delay,c,i);const f=De(o,u,s[u],l,t);a.push(f)}}return Ct(a,r,r.duration)}}const qe=Ce(Ot);function $e(t,e={}){return Ct([()=>{const n=new Ot(t,[0,1],e);return n.finished.catch(()=>{}),n}],e,e.duration)}function Fe(t,e,n){return(k(t)?$e:qe)(t,e,n)}document.addEventListener("click",t=>{const e=document.getElementById("astro-header-drawer"),n=document.getElementById("astro-header-drawer-button");e?.contains(t.target)||n?.contains(t.target)?e?.classList.toggle("translate-x-96"):e?.classList.add("translate-x-96")});document.querySelector(".chatbot-wrapper");const ot=document.querySelector(".chatbot"),j=document.querySelector(".chatbot-toggle-open"),Ne=document.querySelector(".chatbot-toggle-close"),Be=document.getElementById("chat-form"),yt=document.getElementById("chat-input"),U=document.querySelector(".chat-messages");ot.classList.remove("hidden");j.classList.add("hidden");j.addEventListener("click",()=>{ot.classList.remove("hidden"),j.classList.add("hidden")});Ne.addEventListener("click",()=>{ot.classList.add("hidden"),j.classList.remove("hidden")});Be.addEventListener("submit",async t=>{t.preventDefault();const e=yt.value.trim();if(!e)return;const n=document.createElement("div");n.className="message user-message self-end max-w-[80%] mb-2",n.innerHTML=`
      <div class="label text-xs font-semibold text-gray-600 dark:text-gray-400 mb-1 text-right">You</div>
      <div class="content p-2 bg-blue-200 dark:bg-blue-800 text-gray-800 dark:text-gray-200 rounded-lg">${e}</div>
    `,U.appendChild(n);const i=(await(await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e})})).json()).response.replace(/! /g,"!<br />").replace(/\. /g,".<br />"),a=document.createElement("div");a.className="message bot-message self-start max-w-[80%] mb-2",a.innerHTML=`
      <div class="label text-xs font-semibold text-gray-600 dark:text-gray-400 mb-1">Bot</div>
      <div class="content p-2 bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 rounded-lg font-medium" style="white-space: pre-wrap;">${i}</div>
    `,U.appendChild(a),yt.value="",U.scrollTop=U.scrollHeight});class Ue extends HTMLElement{constructor(){super();const e=this.querySelector("button");e&&e.addEventListener("click",n=>{if(n.currentTarget instanceof HTMLButtonElement){let s=n.currentTarget.getAttribute("aria-pressed")==="true",r=new CustomEvent("theme-change",{detail:{theme:s?"light":"dark"}});document.dispatchEvent(r),e.setAttribute("aria-pressed",String(!s))}})}}"customElements"in window&&customElements.define("theme-toggle",Ue);const He="modulepreload",Ve=function(t){return"/Web_Bot_Blog/"+t},wt={},We=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");r=Promise.allSettled(n.map(o=>{if(o=Ve(o),o in wt)return;wt[o]=!0;const u=o.endsWith(".css"),l=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${l}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":He,u||(f.as="script"),f.crossOrigin="",f.href=o,c&&f.setAttribute("nonce",c),document.head.appendChild(f),u)return new Promise((d,g)=>{f.addEventListener("load",d),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${o}`)))})}))}function i(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return r.then(a=>{for(const c of a||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})};class je extends HTMLElement{constructor(){super();const e=this.querySelector("button[data-open-modal]"),n=this.querySelector("button[data-close-modal]"),s=this.querySelector("dialog"),r=this.querySelector(".dialog-frame"),i=u=>{document.body.contains(u.target)&&!r.contains(u.target)&&o()},a=u=>{if(u.key==="Escape"&&s.open)o(),window.removeEventListener("keydown",a);else return},c=u=>{s.showModal(),Fe("dialog",{clipPath:["polygon(0 0, 100% 0, 100% -200%, -200% -200%)","polygon(0 0, 100% 0, 100% 100%, 0% 100%)"],opacity:[0,1]},{duration:.2}),document.body.classList.add("overflow-hidden"),this.querySelector("input")?.focus(),u?.stopPropagation(),window.addEventListener("click",i),window.addEventListener("keydown",a)},o=()=>{s.close(),document.body.classList.remove("overflow-hidden"),window.removeEventListener("click",i),window.addEventListener("keydown",a)};e.addEventListener("click",c),e.disabled=!1,n.addEventListener("click",o),document.addEventListener("astro:after-swap",o),window.addEventListener("keydown",u=>{u.key==="/"&&!s.open&&(c(),u.preventDefault())}),window.addEventListener("DOMContentLoaded",()=>{(window.requestIdleCallback||(l=>setTimeout(l,1)))(async()=>{const{PagefindUI:l}=await We(async()=>{const{PagefindUI:f}=await import("./ui-core.B4Dlo3R_.js");return{PagefindUI:f}},[]);new l({element:"#pagefind__search",baseUrl:"/Web_Bot_Blog",bundlePath:"/Web_Bot_Blog".replace(/\/$/,"")+"/pagefind/",showImages:!1})})})}}customElements.define("site-search",je);const Xe="astro:before-preparation",Ke="astro:after-preparation",Ye="astro:before-swap",ze="astro:after-swap",Ge=t=>document.dispatchEvent(new Event(t));class qt extends Event{from;to;direction;navigationType;sourceElement;info;newDocument;constructor(e,n,s,r,i,a,c,o,u){super(e,n),this.from=s,this.to=r,this.direction=i,this.navigationType=a,this.sourceElement=c,this.info=o,this.newDocument=u,Object.defineProperties(this,{from:{enumerable:!0},to:{enumerable:!0,writable:!0},direction:{enumerable:!0,writable:!0},navigationType:{enumerable:!0},sourceElement:{enumerable:!0},info:{enumerable:!0},newDocument:{enumerable:!0,writable:!0}})}}class Ze extends qt{formData;loader;constructor(e,n,s,r,i,a,c,o,u){super(Xe,{cancelable:!0},e,n,s,r,i,a,c),this.formData=o,this.loader=u.bind(this,this),Object.defineProperties(this,{formData:{enumerable:!0},loader:{enumerable:!0,writable:!0}})}}class Je extends qt{direction;viewTransition;swap;constructor(e,n,s){super(Ye,void 0,e.from,e.to,e.direction,e.navigationType,e.sourceElement,e.info,e.newDocument),this.direction=e.direction,this.viewTransition=n,this.swap=s.bind(this,this),Object.defineProperties(this,{direction:{enumerable:!0},viewTransition:{enumerable:!0},swap:{enumerable:!0,writable:!0}})}}async function Qe(t,e,n,s,r,i,a,c){const o=new Ze(t,e,n,s,r,i,window.document,a,c);return document.dispatchEvent(o)&&(await o.loader(),o.defaultPrevented||(Ge(Ke),o.navigationType!=="traverse"&&at({scrollX,scrollY}))),o}async function tn(t,e,n){const s=new Je(t,e,n);return document.dispatchEvent(s),s.swap(),s}const en=history.pushState.bind(history),it=history.replaceState.bind(history),at=t=>{history.state&&(history.scrollRestoration="manual",it({...history.state,...t},""))},ct=!!document.startViewTransition,lt=()=>!!document.querySelector('[name="astro-view-transitions-enabled"]'),$t=(t,e)=>t.pathname===e.pathname&&t.search===e.search;let z,D,X=!1,Ft;const Nt=t=>document.dispatchEvent(new Event(t)),Bt=()=>Nt("astro:page-load"),nn=()=>{let t=document.createElement("div");t.setAttribute("aria-live","assertive"),t.setAttribute("aria-atomic","true"),t.className="astro-route-announcer",document.body.append(t),setTimeout(()=>{let e=document.title||document.querySelector("h1")?.textContent||location.pathname;t.textContent=e},60)},A="data-astro-transition-persist",Ut="data-astro-transition",Ht="data-astro-transition-fallback";let bt,q=0;history.state?(q=history.state.index,scrollTo({left:history.state.scrollX,top:history.state.scrollY})):lt()&&(it({index:q,scrollX,scrollY},""),history.scrollRestoration="manual");const sn=(t,e)=>{let n=!1,s=!1;return(...r)=>{if(n){s=!0;return}t(...r),n=!0,setTimeout(()=>{s&&(s=!1,t(...r)),n=!1},e)}};async function rn(t,e){try{const n=await fetch(t,e),r=(n.headers.get("content-type")??"").split(";",1)[0].trim();return r!=="text/html"&&r!=="application/xhtml+xml"?null:{html:await n.text(),redirected:n.redirected?n.url:void 0,mediaType:r}}catch{return null}}function Vt(){const t=document.querySelector('[name="astro-view-transitions-fallback"]');return t?t.getAttribute("content"):"animate"}function on(){let t=Promise.resolve();for(const e of Array.from(document.scripts)){if(e.dataset.astroExec==="")continue;const n=document.createElement("script");n.innerHTML=e.innerHTML;for(const s of e.attributes){if(s.name==="src"){const r=new Promise(i=>{n.onload=i});t=t.then(()=>r)}n.setAttribute(s.name,s.value)}n.dataset.astroExec="",e.replaceWith(n)}return t}const Wt=(t,e,n,s)=>{const r=$t(e,t);let i=!1;if(t.href!==location.href&&!s)if(n.history==="replace"){const a=history.state;it({...n.state,index:a.index,scrollX:a.scrollX,scrollY:a.scrollY},"",t.href)}else en({...n.state,index:++q,scrollX:0,scrollY:0},"",t.href);z=t,r||(scrollTo({left:0,top:0,behavior:"instant"}),i=!0),s?scrollTo(s.scrollX,s.scrollY):(t.hash?(history.scrollRestoration="auto",location.href=t.href):i||scrollTo({left:0,top:0,behavior:"instant"}),history.scrollRestoration="manual")};function an(t){const e=[];for(const n of t.querySelectorAll("head link[rel=stylesheet]"))if(!document.querySelector(`[${A}="${n.getAttribute(A)}"], link[rel=stylesheet][href="${n.getAttribute("href")}"]`)){const s=document.createElement("link");s.setAttribute("rel","preload"),s.setAttribute("as","style"),s.setAttribute("href",n.getAttribute("href")),e.push(new Promise(r=>{["load","error"].forEach(i=>s.addEventListener(i,r)),document.head.append(s)}))}return e}async function vt(t,e,n,s){const r=(l,f)=>{const d=l.getAttribute(A),g=d&&f.head.querySelector(`[${A}="${d}"]`);if(g)return g;if(l.matches("link[rel=stylesheet]")){const w=l.getAttribute("href");return f.head.querySelector(`link[rel=stylesheet][href="${w}"]`)}return null},i=()=>{const l=document.activeElement;if(l?.closest(`[${A}]`)){if(l instanceof HTMLInputElement||l instanceof HTMLTextAreaElement){const f=l.selectionStart,d=l.selectionEnd;return{activeElement:l,start:f,end:d}}return{activeElement:l}}else return{activeElement:null}},a=({activeElement:l,start:f,end:d})=>{l&&(l.focus(),(l instanceof HTMLInputElement||l instanceof HTMLTextAreaElement)&&(l.selectionStart=f,l.selectionEnd=d))},c=l=>{const f=document.documentElement,d=[...f.attributes].filter(({name:m})=>(f.removeAttribute(m),m.startsWith("data-astro-")));[...l.newDocument.documentElement.attributes,...d].forEach(({name:m,value:h})=>f.setAttribute(m,h));for(const m of document.scripts)for(const h of l.newDocument.scripts)if(!m.src&&m.textContent===h.textContent||m.src&&m.type===h.type&&m.src===h.src){h.dataset.astroExec="";break}for(const m of Array.from(document.head.children)){const h=r(m,l.newDocument);h?h.remove():m.remove()}document.head.append(...l.newDocument.head.children);const g=document.body,w=i();document.body.replaceWith(l.newDocument.body);for(const m of g.querySelectorAll(`[${A}]`)){const h=m.getAttribute(A),b=document.querySelector(`[${A}="${h}"]`);b&&b.replaceWith(m)}a(w)};async function o(l){function f(m){const h=m.effect;return!h||!(h instanceof KeyframeEffect)||!h.target?!1:window.getComputedStyle(h.target,h.pseudoElement).animationIterationCount==="infinite"}const d=document.getAnimations();document.documentElement.setAttribute(Ht,l);const w=document.getAnimations().filter(m=>!d.includes(m)&&!f(m));return Promise.all(w.map(m=>m.finished))}if(!X)document.documentElement.setAttribute(Ut,t.direction),s==="animate"&&await o("old");else throw new DOMException("Transition was skipped");const u=await tn(t,D,c);Wt(u.to,u.from,e,n),Nt(ze),s==="animate"&&!X&&o("new").then(()=>Ft())}async function jt(t,e,n,s,r){if(!lt()||location.origin!==n.origin){location.href=n.href;return}const i=r?"traverse":s.history==="replace"?"replace":"push";if(i!=="traverse"&&at({scrollX,scrollY}),$t(e,n)&&n.hash){Wt(n,e,s,r);return}const a=await Qe(e,n,t,i,s.sourceElement,s.info,s.formData,c);if(a.defaultPrevented){location.href=n.href;return}async function c(o){const u=o.to.href,l={};if(o.formData){l.method="POST";const g=o.sourceElement instanceof HTMLFormElement?o.sourceElement:o.sourceElement instanceof HTMLElement&&"form"in o.sourceElement?o.sourceElement.form:o.sourceElement?.closest("form");l.body=g?.attributes.getNamedItem("enctype")?.value==="application/x-www-form-urlencoded"?new URLSearchParams(o.formData):o.formData}const f=await rn(u,l);if(f===null){o.preventDefault();return}if(f.redirected&&(o.to=new URL(f.redirected)),bt??=new DOMParser,o.newDocument=bt.parseFromString(f.html,f.mediaType),o.newDocument.querySelectorAll("noscript").forEach(g=>g.remove()),!o.newDocument.querySelector('[name="astro-view-transitions-enabled"]')&&!o.formData){o.preventDefault();return}const d=an(o.newDocument);d.length&&await Promise.all(d)}if(X=!1,ct)D=document.startViewTransition(async()=>await vt(a,s,r));else{const o=(async()=>{await new Promise(u=>setTimeout(u)),await vt(a,s,r,Vt())})();D={updateCallbackDone:o,ready:o,finished:new Promise(u=>Ft=u),skipTransition:()=>{X=!0}}}D.ready.then(async()=>{await on(),Bt(),nn()}),D.finished.then(()=>{document.documentElement.removeAttribute(Ut),document.documentElement.removeAttribute(Ht)}),await D.ready}async function Et(t,e){await jt("forward",z,new URL(t,location.href),e??{})}function cn(t){if(!lt()&&t.state){location.reload();return}if(t.state===null)return;const e=history.state,n=e.index,s=n>q?"forward":"back";q=n,jt(s,z,new URL(location.href),{},e)}const Tt=()=>{at({scrollX,scrollY})};{(ct||Vt()!=="none")&&(z=new URL(location.href),addEventListener("popstate",cn),addEventListener("load",Bt),"onscrollend"in window?addEventListener("scrollend",Tt):addEventListener("scroll",sn(Tt,350),{passive:!0}));for(const t of document.scripts)t.dataset.astroExec=""}const Xt=new Set,K=new WeakSet;let nt,Kt,At=!1;function ln(t){At||(At=!0,nt??=t?.prefetchAll,Kt??=t?.defaultStrategy??"hover",un(),dn(),fn())}function un(){for(const t of["touchstart","mousedown"])document.body.addEventListener(t,e=>{Y(e.target,"tap")&&ut(e.target.href,{with:"fetch",ignoreSlowConnection:!0})},{passive:!0})}function dn(){let t;document.body.addEventListener("focusin",s=>{Y(s.target,"hover")&&e(s)},{passive:!0}),document.body.addEventListener("focusout",n,{passive:!0}),zt(()=>{for(const s of document.getElementsByTagName("a"))K.has(s)||Y(s,"hover")&&(K.add(s),s.addEventListener("mouseenter",e,{passive:!0}),s.addEventListener("mouseleave",n,{passive:!0}))});function e(s){const r=s.target.href;t&&clearTimeout(t),t=setTimeout(()=>{ut(r,{with:"fetch"})},80)}function n(){t&&(clearTimeout(t),t=0)}}function fn(){let t;zt(()=>{for(const e of document.getElementsByTagName("a"))K.has(e)||Y(e,"viewport")&&(K.add(e),t??=mn(),t.observe(e))})}function mn(){const t=new WeakMap;return new IntersectionObserver((e,n)=>{for(const s of e){const r=s.target,i=t.get(r);s.isIntersecting?(i&&clearTimeout(i),t.set(r,setTimeout(()=>{n.unobserve(r),t.delete(r),ut(r.href,{with:"link"})},300))):i&&(clearTimeout(i),t.delete(r))}})}function ut(t,e){const n=e?.ignoreSlowConnection??!1;if(!hn(t,n))return;if(Xt.add(t),(e?.with??"link")==="link"){const r=document.createElement("link");r.rel="prefetch",r.setAttribute("href",t),document.head.append(r)}else fetch(t).catch(r=>{console.log(`[astro] Failed to prefetch ${t}`),console.error(r)})}function hn(t,e){if(!navigator.onLine||!e&&Yt())return!1;try{const n=new URL(t,location.href);return location.origin===n.origin&&(location.pathname!==n.pathname||location.search!==n.search)&&!Xt.has(t)}catch{}return!1}function Y(t,e){if(t?.tagName!=="A")return!1;const n=t.dataset.astroPrefetch;return n==="false"?!1:e==="tap"&&(n!=null||nt)&&Yt()?!0:n==null&&nt||n===""?e===Kt:n===e}function Yt(){if("connection"in navigator){const t=navigator.connection;return t.saveData||/(2|3)g/.test(t.effectiveType)}return!1}function zt(t){t();let e=!1;document.addEventListener("astro:page-load",()=>{if(!e){e=!0;return}t()})}function pn(){const t=document.querySelector('[name="astro-view-transitions-fallback"]');return t?t.getAttribute("content"):"animate"}function St(t){return t.dataset.astroReload!==void 0}(ct||pn()!=="none")&&(document.addEventListener("click",t=>{let e=t.target;if(e instanceof Element&&(e=e.closest("a, area")),!(e instanceof HTMLAnchorElement)&&!(e instanceof SVGAElement)&&!(e instanceof HTMLAreaElement))return;const n=e instanceof HTMLElement?e.target:e.target.baseVal,s=e instanceof HTMLElement?e.href:e.href.baseVal,r=new URL(s,location.href).origin;St(e)||e.hasAttribute("download")||!e.href||n&&n!=="_self"||r!==location.origin||t.button!==0||t.metaKey||t.ctrlKey||t.altKey||t.shiftKey||t.defaultPrevented||(t.preventDefault(),Et(s,{history:e.dataset.astroHistory==="replace"?"replace":"auto",sourceElement:e}))}),document.addEventListener("submit",t=>{let e=t.target;if(e.tagName!=="FORM"||t.defaultPrevented||St(e))return;const n=e,s=t.submitter,r=new FormData(n,s);let i=s?.getAttribute("formaction")??n.action??location.pathname;const a=s?.getAttribute("formmethod")??n.method;if(a==="dialog")return;const c={sourceElement:s??n};if(a==="get"){const o=new URLSearchParams(r),u=new URL(i);u.search=o.toString(),i=u.toString()}else c.formData=r;t.preventDefault(),Et(i,c)}),ln({prefetchAll:!0}));export{We as _,Fe as a};
